<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libzmq: /home/travlr/src/libzmq/src/zmq.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="zeromq1-300x115.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">libzmq&#160;<span id="projectnumber">master</span></div>
   <div id="projectbrief">The Intelligent Transport Layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a>      </li>
      <li class="navelem"><a class="el" href="dir_223207b948e8fa656fe21665415438d6.html">travlr</a>      </li>
      <li class="navelem"><a class="el" href="dir_fb6bd66a99939deb91cf473b567980dd.html">src</a>      </li>
      <li class="navelem"><a class="el" href="dir_aef0164114278eee23dc63ccdad22337.html">libzmq</a>      </li>
      <li class="navelem"><a class="el" href="dir_8ab4da8374c595f769c77ba7607c1e0b.html">src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>zmq.cpp File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;platform.hpp&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;new&gt;</code><br/>
<code>#include &quot;<a class="el" href="socket__base_8hpp_source.html">socket_base.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="stdint_8hpp_source.html">stdint.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="config_8hpp_source.html">config.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="likely_8hpp_source.html">likely.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="clock_8hpp_source.html">clock.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ctx_8hpp_source.html">ctx.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="err_8hpp_source.html">err.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="msg_8hpp_source.html">msg.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="fd_8hpp_source.html">fd.hpp</a>&quot;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Include dependency graph for zmq.cpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp__incl.png" border="0" usemap="#_2home_2travlr_2src_2libzmq_2src_2zmq_8cpp" alt=""/></div>
<map name="_2home_2travlr_2src_2libzmq_2src_2zmq_8cpp" id="_2home_2travlr_2src_2libzmq_2src_2zmq_8cpp">
<area shape="rect" id="node13" href="socket__base_8hpp.html" title="socket_base.hpp" alt="" coords="1039,83,1159,112"/><area shape="rect" id="node27" href="stdint_8hpp.html" title="stdint.hpp" alt="" coords="1303,315,1380,344"/><area shape="rect" id="node49" href="err_8hpp.html" title="err.hpp" alt="" coords="2211,392,2272,421"/><area shape="rect" id="node63" href="likely_8hpp.html" title="likely.hpp" alt="" coords="2573,469,2651,499"/><area shape="rect" id="node89" href="fd_8hpp.html" title="fd.hpp" alt="" coords="257,315,316,344"/><area shape="rect" id="node111" href="config_8hpp.html" title="config.hpp" alt="" coords="2177,237,2260,267"/><area shape="rect" id="node120" href="clock_8hpp.html" title="clock.hpp" alt="" coords="1289,83,1367,112"/><area shape="rect" id="node123" href="ctx_8hpp.html" title="ctx.hpp" alt="" coords="1688,83,1752,112"/><area shape="rect" id="node151" href="msg_8hpp.html" title="msg.hpp" alt="" coords="2095,160,2167,189"/><area shape="rect" id="node19" href="own_8hpp.html" title="own.hpp" alt="" coords="1000,160,1069,189"/><area shape="rect" id="node32" href="blob_8hpp.html" title="blob.hpp" alt="" coords="945,315,1015,344"/><area shape="rect" id="node42" href="atomic__counter_8hpp.html" title="atomic_counter.hpp" alt="" coords="1151,237,1287,267"/><area shape="rect" id="node46" href="mutex_8hpp.html" title="mutex.hpp" alt="" coords="1737,315,1820,344"/><area shape="rect" id="node70" href="array_8hpp.html" title="array.hpp" alt="" coords="567,160,641,189"/><area shape="rect" id="node76" href="poller_8hpp.html" title="poller.hpp" alt="" coords="212,160,289,189"/><area shape="rect" id="node103" href="i__poll__events_8hpp.html" title="i_poll_events.hpp" alt="" coords="319,160,441,189"/><area shape="rect" id="node105" href="mailbox_8hpp.html" title="mailbox.hpp" alt="" coords="1633,160,1724,189"/><area shape="rect" id="node25" href="object_8hpp.html" title="object.hpp" alt="" coords="993,237,1076,267"/><area shape="rect" id="node36" href="options_8hpp.html" title="options.hpp" alt="" coords="881,237,969,267"/><area shape="rect" id="node51" href="zmq_8h.html" title="../include/zmq.h" alt="" coords="2208,469,2323,499"/><area shape="rect" id="node78" href="epoll_8hpp.html" title="epoll.hpp" alt="" coords="788,392,863,421"/><area shape="rect" id="node81" href="poll_8hpp.html" title="poll.hpp" alt="" coords="988,392,1055,421"/><area shape="rect" id="node84" href="select_8hpp.html" title="select.hpp" alt="" coords="308,237,391,267"/><area shape="rect" id="node96" href="devpoll_8hpp.html" title="devpoll.hpp" alt="" coords="44,315,132,344"/><area shape="rect" id="node99" href="kqueue_8hpp.html" title="kqueue.hpp" alt="" coords="676,392,764,421"/><area shape="rect" id="node92" href="thread_8hpp.html" title="thread.hpp" alt="" coords="761,315,844,344"/><area shape="rect" id="node113" href="command_8hpp.html" title="command.hpp" alt="" coords="1564,237,1668,267"/><area shape="rect" id="node131" href="semaphore_8hpp.html" title="semaphore.hpp" alt="" coords="2199,315,2308,344"/><area shape="rect" id="node137" href="ypipe_8hpp.html" title="ypipe.hpp" alt="" coords="1943,160,2020,189"/><area shape="rect" id="node139" href="atomic__ptr_8hpp.html" title="atomic_ptr.hpp" alt="" coords="1895,237,2001,267"/></map>
</div>
</div>
<p><a href="zmq_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a9affb22ec85e8e5ed049e46b732874ad">check_msg_t_size</a> [sizeof(<a class="el" href="classzmq_1_1msg__t.html">zmq::msg_t</a>)==sizeof(<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a>)?1:-1]</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a6f8b13ffc962de1fa28e963d94852e81">zmq_bind</a> (void *s_, const char *addr_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a3c43427414ffeac127289f678e2396f5">zmq_close</a> (void *s_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#aa1df01cc280423cfa62675b25981249c">zmq_connect</a> (void *s_, const char *addr_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a022c6f0749fd0cef83b351d857ee92cc">zmq_errno</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a2811e0de61392482c05c033cb9e8eb7b">zmq_getsockopt</a> (void *s_, int option_, void *optval_, size_t *optvallen_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a016fdb6b65578b5a29cbf76f11f36279">zmq_init</a> (int io_threads_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a17c4b0f85cd3c218f8a7f8ca96b56466">zmq_msg_close</a> (<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *msg_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a720fa88f3050816a86bbb3b7c604675f">zmq_msg_copy</a> (<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *dest_, <a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *src_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a33e603d9ad15877e4f878652fa618913">zmq_msg_data</a> (<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *msg_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a020655faa8a541ceef65118ffc77dd63">zmq_msg_init</a> (<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *msg_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a74127e7869b651dbd34480e1216e1e6b">zmq_msg_init_data</a> (<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *msg_, void *data_, size_t size_, <a class="el" href="zmq_8h.html#a77f33646343961de85445109ae5f6526">zmq_free_fn</a> *ffn_, void *hint_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a221e0871e81888958c39b3037d6beb3f">zmq_msg_init_size</a> (<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *msg_, size_t size_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a826b9e4c17f1737c585aaefc2d325e67">zmq_msg_move</a> (<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *dest_, <a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *src_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#aacfbff54c67878840f26c1287e0be7b1">zmq_msg_size</a> (<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *msg_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#aa4c0179dfd34c1cf2067caf4f4789cd5">zmq_poll</a> (<a class="el" href="structzmq__pollitem__t.html">zmq_pollitem_t</a> *items_, int nitems_, long timeout_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#aed5e040d1f661211601bcb12e67851df">zmq_recv</a> (void *s_, void *buf_, size_t len_, int flags_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a8cb24b7e54e3380fca751d8e1eaf0a27">zmq_recvmsg</a> (void *s_, <a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *msg_, int flags_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a9894b4722d321559d3990898603ec63a">zmq_send</a> (void *s_, const void *buf_, size_t len_, int flags_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a8280be9161357a9a4610e94f7de5a3ad">zmq_sendmsg</a> (void *s_, <a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *msg_, int flags_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a7eedad11325d1cce35bac82e76e8ebd9">zmq_setsockopt</a> (void *s_, int option_, const void *optval_, size_t optvallen_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#ab8808eefe4acbfe131a3b2a3c50ab801">zmq_socket</a> (void *ctx_, int type_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a366b49e4d97c7065b1a59f727fcffba8">zmq_strerror</a> (int errnum_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#a00e3e1f6c6182c1b7fcbbc5f26af86fe">zmq_term</a> (void *ctx_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zmq_8cpp.html#af79bde1e5309ca8e95463a2ac91e4123">zmq_version</a> (int *major_, int *minor_, int *patch_)</td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a9affb22ec85e8e5ed049e46b732874ad"></a><!-- doxytag: member="zmq.cpp::check_msg_t_size" ref="a9affb22ec85e8e5ed049e46b732874ad" args="[sizeof(zmq::msg_t)==sizeof(zmq_msg_t)?1:&#45;1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef char <a class="el" href="zmq_8cpp.html#a9affb22ec85e8e5ed049e46b732874ad">check_msg_t_size</a>[sizeof(<a class="el" href="classzmq_1_1msg__t.html">zmq::msg_t</a>)==sizeof(<a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a>)?1:-1]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00061">61</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6f8b13ffc962de1fa28e963d94852e81"></a><!-- doxytag: member="zmq.cpp::zmq_bind" ref="a6f8b13ffc962de1fa28e963d94852e81" args="(void *s_, const char *addr_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_bind </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00193">193</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="zmq_8h_source.html#l00102">ENOTSOCK</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!s_ || !((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;check_tag ()) {
        errno = <a class="code" href="zmq_8h.html#ae34fa7a550ac1c415daa2e114a1c0f38">ENOTSOCK</a>;
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">return</span> (((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;bind (addr_));
}
</pre></div>
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a6f8b13ffc962de1fa28e963d94852e81_icgraph.png" border="0" usemap="#zmq_8cpp_a6f8b13ffc962de1fa28e963d94852e81_icgraph" alt=""/></div>
<map name="zmq_8cpp_a6f8b13ffc962de1fa28e963d94852e81_icgraph" id="zmq_8cpp_a6f8b13ffc962de1fa28e963d94852e81_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="133,5,184,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3c43427414ffeac127289f678e2396f5"></a><!-- doxytag: member="zmq.cpp::zmq_close" ref="a3c43427414ffeac127289f678e2396f5" args="(void *s_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_close </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00162">162</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="zmq_8h_source.html#l00102">ENOTSOCK</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, and <a class="el" href="inproc__lat_8cpp_source.html#l00043">worker()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!s_ || !((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;check_tag ()) {
        errno = <a class="code" href="zmq_8h.html#ae34fa7a550ac1c415daa2e114a1c0f38">ENOTSOCK</a>;
        <span class="keywordflow">return</span> -1;
    }
    ((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;close ();
    <span class="keywordflow">return</span> 0;
}
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a3c43427414ffeac127289f678e2396f5_icgraph.png" border="0" usemap="#zmq_8cpp_a3c43427414ffeac127289f678e2396f5_icgraph" alt=""/></div>
<map name="zmq_8cpp_a3c43427414ffeac127289f678e2396f5_icgraph" id="zmq_8cpp_a3c43427414ffeac127289f678e2396f5_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="304,5,355,35"/><area shape="rect" id="node5" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="139,59,200,88"/><area shape="rect" id="node8" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="263,59,396,88"/><area shape="rect" id="node10" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="248,112,411,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1df01cc280423cfa62675b25981249c"></a><!-- doxytag: member="zmq.cpp::zmq_connect" ref="aa1df01cc280423cfa62675b25981249c" args="(void *s_, const char *addr_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_connect </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00202">202</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="zmq_8h_source.html#l00102">ENOTSOCK</a>.</p>

<p>Referenced by <a class="el" href="remote__lat_8cpp_source.html#l00027">main()</a>, and <a class="el" href="inproc__lat_8cpp_source.html#l00043">worker()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!s_ || !((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;check_tag ()) {
        errno = <a class="code" href="zmq_8h.html#ae34fa7a550ac1c415daa2e114a1c0f38">ENOTSOCK</a>;
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">return</span> (((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;connect (addr_));
}
</pre></div>
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_aa1df01cc280423cfa62675b25981249c_icgraph.png" border="0" usemap="#zmq_8cpp_aa1df01cc280423cfa62675b25981249c_icgraph" alt=""/></div>
<map name="zmq_8cpp_aa1df01cc280423cfa62675b25981249c_icgraph" id="zmq_8cpp_aa1df01cc280423cfa62675b25981249c_icgraph">
<area shape="rect" id="node3" href="remote__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="160,5,211,35"/><area shape="rect" id="node5" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="155,59,216,88"/><area shape="rect" id="node7" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="320,5,371,35"/><area shape="rect" id="node9" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="279,59,412,88"/><area shape="rect" id="node11" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="264,112,427,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a022c6f0749fd0cef83b351d857ee92cc"></a><!-- doxytag: member="zmq.cpp::zmq_errno" ref="a022c6f0749fd0cef83b351d857ee92cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_errno </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00688">688</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> errno;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2811e0de61392482c05c033cb9e8eb7b"></a><!-- doxytag: member="zmq.cpp::zmq_getsockopt" ref="a2811e0de61392482c05c033cb9e8eb7b" args="(void *s_, int option_, void *optval_, size_t *optvallen_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_getsockopt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>optval_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>optvallen_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00183">183</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="zmq_8h_source.html#l00102">ENOTSOCK</a>.</p>

<p>Referenced by <a class="el" href="zmq_8cpp_source.html#l00339">zmq_poll()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!s_ || !((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;check_tag ()) {
        errno = <a class="code" href="zmq_8h.html#ae34fa7a550ac1c415daa2e114a1c0f38">ENOTSOCK</a>;
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">return</span> (((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;getsockopt (option_, optval_,
        optvallen_));
}
</pre></div>
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a2811e0de61392482c05c033cb9e8eb7b_icgraph.png" border="0" usemap="#zmq_8cpp_a2811e0de61392482c05c033cb9e8eb7b_icgraph" alt=""/></div>
<map name="zmq_8cpp_a2811e0de61392482c05c033cb9e8eb7b_icgraph" id="zmq_8cpp_a2811e0de61392482c05c033cb9e8eb7b_icgraph">
<area shape="rect" id="node3" href="zmq_8cpp.html#aa4c0179dfd34c1cf2067caf4f4789cd5" title="zmq_poll" alt="" coords="173,5,248,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a016fdb6b65578b5a29cbf76f11f36279"></a><!-- doxytag: member="zmq.cpp::zmq_init" ref="a016fdb6b65578b5a29cbf76f11f36279" args="(int io_threads_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* zmq_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>io_threads_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00075">75</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="err_8hpp_source.html#l00137">alloc_assert</a>, and <a class="el" href="err_8hpp_source.html#l00098">zmq_assert</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (io_threads_ &lt; 0) {
        errno = EINVAL;
        <span class="keywordflow">return</span> NULL;
    }

<span class="preprocessor">#if defined ZMQ_HAVE_OPENPGM</span>
<span class="preprocessor"></span>
    <span class="comment">//  Init PGM transport. Ensure threading and timer are enabled. Find PGM</span>
    <span class="comment">//  protocol ID. Note that if you want to use gettimeofday and sleep for</span>
    <span class="comment">//  openPGM timing, set environment variables PGM_TIMER to &quot;GTOD&quot; and</span>
    <span class="comment">//  PGM_SLEEP to &quot;USLEEP&quot;.</span>
    pgm_error_t *pgm_error = NULL;
    <span class="keyword">const</span> <span class="keywordtype">bool</span> ok = pgm_init (&amp;pgm_error);
    <span class="keywordflow">if</span> (ok != TRUE) {

        <span class="comment">//  Invalid parameters don&#39;t set pgm_error_t</span>
        <a class="code" href="err_8hpp.html#a6eef7faa8d283dc3ed63ef0a6f2bad22">zmq_assert</a> (pgm_error != NULL);
        <span class="keywordflow">if</span> (pgm_error-&gt;domain == PGM_ERROR_DOMAIN_TIME &amp;&amp; (
              pgm_error-&gt;code == PGM_ERROR_FAILED)) {

            <span class="comment">//  Failed to access RTC or HPET device.</span>
            pgm_error_free (pgm_error);
            errno = EINVAL;
            <span class="keywordflow">return</span> NULL;
        }

        <span class="comment">//  PGM_ERROR_DOMAIN_ENGINE: WSAStartup errors or missing WSARecvMsg.</span>
        <a class="code" href="err_8hpp.html#a6eef7faa8d283dc3ed63ef0a6f2bad22">zmq_assert</a> (<span class="keyword">false</span>);
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#ifdef ZMQ_HAVE_WINDOWS</span>
<span class="preprocessor"></span>    <span class="comment">//  Intialise Windows sockets. Note that WSAStartup can be called multiple</span>
    <span class="comment">//  times given that WSACleanup will be called for each WSAStartup.</span>
   <span class="comment">//  We do this before the ctx constructor since its embedded mailbox_t</span>
   <span class="comment">//  object needs Winsock to be up and running.</span>
    WORD version_requested = MAKEWORD (2, 2);
    WSADATA wsa_data;
    <span class="keywordtype">int</span> rc = WSAStartup (version_requested, &amp;wsa_data);
    <a class="code" href="err_8hpp.html#a6eef7faa8d283dc3ed63ef0a6f2bad22">zmq_assert</a> (rc == 0);
    <a class="code" href="err_8hpp.html#a6eef7faa8d283dc3ed63ef0a6f2bad22">zmq_assert</a> (LOBYTE (wsa_data.wVersion) == 2 &amp;&amp;
        HIBYTE (wsa_data.wVersion) == 2);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="comment">//  Create 0MQ context.</span>
    <a class="code" href="classzmq_1_1ctx__t.html">zmq::ctx_t</a> *ctx = <span class="keyword">new</span> (std::nothrow) <a class="code" href="classzmq_1_1ctx__t.html">zmq::ctx_t</a> ((uint32_t) io_threads_);
    <a class="code" href="err_8hpp.html#ae1d6a271788759e0cdcbf3b62a1037a3">alloc_assert</a> (ctx);
    <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*) ctx;
}
</pre></div>
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a016fdb6b65578b5a29cbf76f11f36279_icgraph.png" border="0" usemap="#zmq_8cpp_a016fdb6b65578b5a29cbf76f11f36279_icgraph" alt=""/></div>
<map name="zmq_8cpp_a016fdb6b65578b5a29cbf76f11f36279_icgraph" id="zmq_8cpp_a016fdb6b65578b5a29cbf76f11f36279_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="125,5,176,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a17c4b0f85cd3c218f8a7f8ca96b56466"></a><!-- doxytag: member="zmq.cpp::zmq_msg_close" ref="a17c4b0f85cd3c218f8a7f8ca96b56466" args="(zmq_msg_t *msg_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_msg_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00300">300</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, <a class="el" href="inproc__lat_8cpp_source.html#l00043">worker()</a>, <a class="el" href="zmq_8cpp_source.html#l00233">zmq_recv()</a>, and <a class="el" href="zmq_8cpp_source.html#l00211">zmq_send()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) msg_)-&gt;close ();
}
</pre></div>
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a17c4b0f85cd3c218f8a7f8ca96b56466_icgraph.png" border="0" usemap="#zmq_8cpp_a17c4b0f85cd3c218f8a7f8ca96b56466_icgraph" alt=""/></div>
<map name="zmq_8cpp_a17c4b0f85cd3c218f8a7f8ca96b56466_icgraph" id="zmq_8cpp_a17c4b0f85cd3c218f8a7f8ca96b56466_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="357,5,408,35"/><area shape="rect" id="node5" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="181,99,243,128"/><area shape="rect" id="node12" href="zmq_8cpp.html#aed5e040d1f661211601bcb12e67851df" title="zmq_recv" alt="" coords="173,152,251,181"/><area shape="rect" id="node20" href="zmq_8cpp.html#a9894b4722d321559d3990898603ec63a" title="zmq_send" alt="" coords="171,205,253,235"/><area shape="rect" id="node8" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="316,112,449,141"/><area shape="rect" id="node10" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="301,59,464,88"/><area shape="rect" id="node14" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="351,219,415,248"/><area shape="rect" id="node18" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="357,165,408,195"/><area shape="rect" id="node16" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="512,219,563,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a720fa88f3050816a86bbb3b7c604675f"></a><!-- doxytag: member="zmq.cpp::zmq_msg_copy" ref="a720fa88f3050816a86bbb3b7c604675f" args="(zmq_msg_t *dest_, zmq_msg_t *src_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_msg_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>dest_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>src_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00310">310</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) dest_)-&gt;copy (*(<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) src_);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a33e603d9ad15877e4f878652fa618913"></a><!-- doxytag: member="zmq.cpp::zmq_msg_data" ref="a33e603d9ad15877e4f878652fa618913" args="(zmq_msg_t *msg_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* zmq_msg_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00315">315</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, <a class="el" href="inproc__thr_8cpp_source.html#l00043">worker()</a>, <a class="el" href="zmq_8cpp_source.html#l00233">zmq_recv()</a>, and <a class="el" href="zmq_8cpp_source.html#l00211">zmq_send()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) msg_)-&gt;data ();
}
</pre></div>
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a33e603d9ad15877e4f878652fa618913_icgraph.png" border="0" usemap="#zmq_8cpp_a33e603d9ad15877e4f878652fa618913_icgraph" alt=""/></div>
<map name="zmq_8cpp_a33e603d9ad15877e4f878652fa618913_icgraph" id="zmq_8cpp_a33e603d9ad15877e4f878652fa618913_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="181,5,232,35"/><area shape="rect" id="node5" href="inproc__thr_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="176,59,237,88"/><area shape="rect" id="node9" href="zmq_8cpp.html#aed5e040d1f661211601bcb12e67851df" title="zmq_recv" alt="" coords="168,112,245,141"/><area shape="rect" id="node17" href="zmq_8cpp.html#a9894b4722d321559d3990898603ec63a" title="zmq_send" alt="" coords="165,165,248,195"/><area shape="rect" id="node7" href="inproc__thr_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="303,59,353,88"/><area shape="rect" id="node11" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="296,165,360,195"/><area shape="rect" id="node15" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="303,112,353,141"/><area shape="rect" id="node13" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="408,165,459,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a020655faa8a541ceef65118ffc77dd63"></a><!-- doxytag: member="zmq.cpp::zmq_msg_init" ref="a020655faa8a541ceef65118ffc77dd63" args="(zmq_msg_t *msg_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_msg_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00284">284</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>Referenced by <a class="el" href="inproc__thr_8cpp_source.html#l00099">main()</a>, <a class="el" href="inproc__lat_8cpp_source.html#l00043">worker()</a>, and <a class="el" href="zmq_8cpp_source.html#l00233">zmq_recv()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) msg_)-&gt;init ();
}
</pre></div>
<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a020655faa8a541ceef65118ffc77dd63_icgraph.png" border="0" usemap="#zmq_8cpp_a020655faa8a541ceef65118ffc77dd63_icgraph" alt=""/></div>
<map name="zmq_8cpp_a020655faa8a541ceef65118ffc77dd63_icgraph" id="zmq_8cpp_a020655faa8a541ceef65118ffc77dd63_icgraph">
<area shape="rect" id="node3" href="inproc__thr_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="172,32,223,61"/><area shape="rect" id="node5" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="167,85,228,115"/><area shape="rect" id="node13" href="zmq_8cpp.html#aed5e040d1f661211601bcb12e67851df" title="zmq_recv" alt="" coords="159,165,236,195"/><area shape="rect" id="node7" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="341,5,392,35"/><area shape="rect" id="node9" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="300,59,433,88"/><area shape="rect" id="node11" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="285,112,448,141"/><area shape="rect" id="node15" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="335,165,399,195"/><area shape="rect" id="node19" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="341,219,392,248"/><area shape="rect" id="node17" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="496,165,547,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a74127e7869b651dbd34480e1216e1e6b"></a><!-- doxytag: member="zmq.cpp::zmq_msg_init_data" ref="a74127e7869b651dbd34480e1216e1e6b" args="(zmq_msg_t *msg_, void *data_, size_t size_, zmq_free_fn *ffn_, void *hint_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_msg_init_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#a77f33646343961de85445109ae5f6526">zmq_free_fn</a> *&#160;</td>
          <td class="paramname"><em>ffn_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hint_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00294">294</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) msg_)-&gt;init_data (data_, size_, ffn_, hint_);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a221e0871e81888958c39b3037d6beb3f"></a><!-- doxytag: member="zmq.cpp::zmq_msg_init_size" ref="a221e0871e81888958c39b3037d6beb3f" args="(zmq_msg_t *msg_, size_t size_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_msg_init_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00289">289</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, <a class="el" href="inproc__thr_8cpp_source.html#l00043">worker()</a>, and <a class="el" href="zmq_8cpp_source.html#l00211">zmq_send()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) msg_)-&gt;init_size (size_);
}
</pre></div>
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a221e0871e81888958c39b3037d6beb3f_icgraph.png" border="0" usemap="#zmq_8cpp_a221e0871e81888958c39b3037d6beb3f_icgraph" alt=""/></div>
<map name="zmq_8cpp_a221e0871e81888958c39b3037d6beb3f_icgraph" id="zmq_8cpp_a221e0871e81888958c39b3037d6beb3f_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="205,5,256,35"/><area shape="rect" id="node5" href="inproc__thr_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="200,59,261,88"/><area shape="rect" id="node9" href="zmq_8cpp.html#a9894b4722d321559d3990898603ec63a" title="zmq_send" alt="" coords="189,112,272,141"/><area shape="rect" id="node7" href="inproc__thr_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="327,59,377,88"/><area shape="rect" id="node11" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="320,112,384,141"/><area shape="rect" id="node15" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="327,165,377,195"/><area shape="rect" id="node13" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="432,112,483,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a826b9e4c17f1737c585aaefc2d325e67"></a><!-- doxytag: member="zmq.cpp::zmq_msg_move" ref="a826b9e4c17f1737c585aaefc2d325e67" args="(zmq_msg_t *dest_, zmq_msg_t *src_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_msg_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>dest_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>src_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00305">305</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) dest_)-&gt;move (*(<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) src_);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aacfbff54c67878840f26c1287e0be7b1"></a><!-- doxytag: member="zmq.cpp::zmq_msg_size" ref="aacfbff54c67878840f26c1287e0be7b1" args="(zmq_msg_t *msg_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t zmq_msg_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00320">320</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, <a class="el" href="zmq_8cpp_source.html#l00272">zmq_recvmsg()</a>, and <a class="el" href="zmq_8cpp_source.html#l00259">zmq_sendmsg()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) msg_)-&gt;size ();
}
</pre></div>
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_aacfbff54c67878840f26c1287e0be7b1_icgraph.png" border="0" usemap="#zmq_8cpp_aacfbff54c67878840f26c1287e0be7b1_icgraph" alt=""/></div>
<map name="zmq_8cpp_aacfbff54c67878840f26c1287e0be7b1_icgraph" id="zmq_8cpp_aacfbff54c67878840f26c1287e0be7b1_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="507,5,557,35"/><area shape="rect" id="node5" href="zmq_8cpp.html#a8cb24b7e54e3380fca751d8e1eaf0a27" title="zmq_recvmsg" alt="" coords="167,56,271,85"/><area shape="rect" id="node23" href="zmq_8cpp.html#a8280be9161357a9a4610e94f7de5a3ad" title="zmq_sendmsg" alt="" coords="165,109,272,139"/><area shape="rect" id="node8" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="331,109,392,139"/><area shape="rect" id="node15" href="zmq_8cpp.html#aed5e040d1f661211601bcb12e67851df" title="zmq_recv" alt="" coords="323,164,400,193"/><area shape="rect" id="node11" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="465,112,599,141"/><area shape="rect" id="node13" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="451,59,613,88"/><area shape="rect" id="node17" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="500,165,564,195"/><area shape="rect" id="node21" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="507,219,557,248"/><area shape="rect" id="node19" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="661,165,712,195"/><area shape="rect" id="node27" href="zmq_8cpp.html#a9894b4722d321559d3990898603ec63a" title="zmq_send" alt="" coords="320,217,403,247"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4c0179dfd34c1cf2067caf4f4789cd5"></a><!-- doxytag: member="zmq.cpp::zmq_poll" ref="aa4c0179dfd34c1cf2067caf4f4789cd5" args="(zmq_pollitem_t *items_, int nitems_, long timeout_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_poll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structzmq__pollitem__t.html">zmq_pollitem_t</a> *&#160;</td>
          <td class="paramname"><em>items_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nitems_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00339">339</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="err_8hpp_source.html#l00137">alloc_assert</a>, <a class="el" href="zmq_8h_source.html#l00078">ENOTSUP</a>, <a class="el" href="err_8hpp_source.html#l00108">errno_assert</a>, <a class="el" href="zmq_8h_source.html#l00217">zmq_pollitem_t::events</a>, <a class="el" href="zmq_8h_source.html#l00215">zmq_pollitem_t::fd</a>, <a class="el" href="clock_8cpp_source.html#l00075">zmq::clock_t::now_ms()</a>, <a class="el" href="zmq_8h_source.html#l00218">zmq_pollitem_t::revents</a>, <a class="el" href="likely_8hpp_source.html#l00029">unlikely</a>, <a class="el" href="err_8hpp_source.html#l00098">zmq_assert</a>, <a class="el" href="zmq_8h_source.html#l00173">ZMQ_EVENTS</a>, <a class="el" href="zmq_8h_source.html#l00172">ZMQ_FD</a>, <a class="el" href="zmq_8cpp_source.html#l00183">zmq_getsockopt()</a>, <a class="el" href="zmq_8h_source.html#l00207">ZMQ_POLLERR</a>, <a class="el" href="zmq_8h_source.html#l00205">ZMQ_POLLIN</a>, and <a class="el" href="zmq_8h_source.html#l00206">ZMQ_POLLOUT</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#if defined ZMQ_POLL_BASED_ON_POLL</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="likely_8hpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a> (nitems_ &lt; 0)) {
        errno = EINVAL;
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">if</span> (<a class="code" href="likely_8hpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a> (nitems_ == 0)) {
        <span class="keywordflow">if</span> (timeout_ == 0)
            <span class="keywordflow">return</span> 0;
<span class="preprocessor">#if defined ZMQ_HAVE_WINDOWS</span>
<span class="preprocessor"></span>        Sleep (timeout_ &gt; 0 ? timeout_ : INFINITE);
        <span class="keywordflow">return</span> 0;
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        <span class="keywordflow">return</span> usleep (timeout_ * 1000);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }

    <span class="keywordflow">if</span> (!items_) {
        errno = EFAULT;
        <span class="keywordflow">return</span> -1;
    }

    <a class="code" href="classzmq_1_1clock__t.html">zmq::clock_t</a> clock;
    uint64_t now = 0;
    uint64_t end = 0;

    pollfd *pollfds = (pollfd*) malloc (nitems_ * <span class="keyword">sizeof</span> (pollfd));
    <a class="code" href="err_8hpp.html#ae1d6a271788759e0cdcbf3b62a1037a3">alloc_assert</a> (pollfds);

    <span class="comment">//  Build pollset for poll () system call.</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i != nitems_; i++) {

        <span class="comment">//  If the poll item is a 0MQ socket, we poll on the file descriptor</span>
        <span class="comment">//  retrieved by the ZMQ_FD socket option.</span>
        <span class="keywordflow">if</span> (items_ [i].socket) {
            <span class="keywordtype">size_t</span> zmq_fd_size = <span class="keyword">sizeof</span> (<a class="code" href="namespacezmq.html#a206451f4f3d937d650f4afd13da9e306">zmq::fd_t</a>);
            <span class="keywordflow">if</span> (<a class="code" href="zmq_8h.html#a8ee9693ff7f63751670016a4a04d72ae">zmq_getsockopt</a> (items_ [i].socket, <a class="code" href="zmq_8h.html#aa334818e0dcd61b81b0064277aa856cf">ZMQ_FD</a>, &amp;pollfds [i].fd,
                &amp;zmq_fd_size) == -1) {
                free (pollfds);
                <span class="keywordflow">return</span> -1;
            }
            pollfds [i].events = items_ [i].<a class="code" href="structzmq__pollitem__t.html#a293e47a6bbfd190755408a7f76b489b9">events</a> ? POLLIN : 0;
        }
        <span class="comment">//  Else, the poll item is a raw file descriptor. Just convert the</span>
        <span class="comment">//  events to normal POLLIN/POLLOUT for poll ().</span>
        <span class="keywordflow">else</span> {
            pollfds [i].fd = items_ [i].<a class="code" href="structzmq__pollitem__t.html#aaaba20d38ea388295fb0b8d88e580550">fd</a>;
            pollfds [i].events =
                (items_ [i].<a class="code" href="structzmq__pollitem__t.html#a293e47a6bbfd190755408a7f76b489b9">events</a> &amp; <a class="code" href="zmq_8h.html#a4f619ed5343e46f417d7ec7e318be8a0">ZMQ_POLLIN</a> ? POLLIN : 0) |
                (items_ [i].events &amp; <a class="code" href="zmq_8h.html#af7ec0b23b191f31fc1aed3d54bed606c">ZMQ_POLLOUT</a> ? POLLOUT : 0);
        }
    }

    <span class="keywordtype">bool</span> first_pass = <span class="keyword">true</span>;
    <span class="keywordtype">int</span> nevents = 0;

    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {

         <span class="comment">//  Compute the timeout for the subsequent poll.</span>
         <span class="keywordtype">int</span> timeout;
         <span class="keywordflow">if</span> (first_pass)
             timeout = 0;
         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (timeout_ &lt; 0)
             timeout = -1;
         <span class="keywordflow">else</span>
             timeout = end - now;

        <span class="comment">//  Wait for events.</span>
        <span class="keywordflow">while</span> (<span class="keyword">true</span>) {
            <span class="keywordtype">int</span> rc = poll (pollfds, nitems_, timeout);
            <span class="keywordflow">if</span> (rc == -1 &amp;&amp; errno == EINTR) {
                free (pollfds);
                <span class="keywordflow">return</span> -1;
            }
            <a class="code" href="err_8hpp.html#a0399435158def8e776efe83e52fd707a">errno_assert</a> (rc &gt;= 0);
            <span class="keywordflow">break</span>;
        }

        <span class="comment">//  Check for the events.</span>
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i != nitems_; i++) {

            items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> = 0;

            <span class="comment">//  The poll item is a 0MQ socket. Retrieve pending events</span>
            <span class="comment">//  using the ZMQ_EVENTS socket option.</span>
            <span class="keywordflow">if</span> (items_ [i].socket) {
                <span class="keywordtype">size_t</span> zmq_events_size = <span class="keyword">sizeof</span> (uint32_t);
                uint32_t zmq_events;
                <span class="keywordflow">if</span> (<a class="code" href="zmq_8h.html#a8ee9693ff7f63751670016a4a04d72ae">zmq_getsockopt</a> (items_ [i].socket, <a class="code" href="zmq_8h.html#a8c94548552b49d653a4882d723f3b5f2">ZMQ_EVENTS</a>, &amp;zmq_events,
                    &amp;zmq_events_size) == -1) {
                    free (pollfds);
                    <span class="keywordflow">return</span> -1;
                }
                <span class="keywordflow">if</span> ((items_ [i].events &amp; <a class="code" href="zmq_8h.html#af7ec0b23b191f31fc1aed3d54bed606c">ZMQ_POLLOUT</a>) &amp;&amp;
                      (zmq_events &amp; ZMQ_POLLOUT))
                    items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> |= <a class="code" href="zmq_8h.html#af7ec0b23b191f31fc1aed3d54bed606c">ZMQ_POLLOUT</a>;
                <span class="keywordflow">if</span> ((items_ [i].events &amp; <a class="code" href="zmq_8h.html#a4f619ed5343e46f417d7ec7e318be8a0">ZMQ_POLLIN</a>) &amp;&amp;
                      (zmq_events &amp; ZMQ_POLLIN))
                    items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> |= <a class="code" href="zmq_8h.html#a4f619ed5343e46f417d7ec7e318be8a0">ZMQ_POLLIN</a>;
            }
            <span class="comment">//  Else, the poll item is a raw file descriptor, simply convert</span>
            <span class="comment">//  the events to zmq_pollitem_t-style format.</span>
            <span class="keywordflow">else</span> {
                <span class="keywordflow">if</span> (pollfds [i].revents &amp; POLLIN)
                    items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> |= <a class="code" href="zmq_8h.html#a4f619ed5343e46f417d7ec7e318be8a0">ZMQ_POLLIN</a>;
                <span class="keywordflow">if</span> (pollfds [i].revents &amp; POLLOUT)
                    items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> |= <a class="code" href="zmq_8h.html#af7ec0b23b191f31fc1aed3d54bed606c">ZMQ_POLLOUT</a>;
                <span class="keywordflow">if</span> (pollfds [i].revents &amp; ~(POLLIN | POLLOUT))
                    items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> |= <a class="code" href="zmq_8h.html#a22b2409d48517c9bc80d67ad3b6a6458">ZMQ_POLLERR</a>;
            }

            <span class="keywordflow">if</span> (items_ [i].revents)
                nevents++;
        }

        <span class="comment">//  If timout is zero, exit immediately whether there are events or not.</span>
        <span class="keywordflow">if</span> (timeout_ == 0)
            <span class="keywordflow">break</span>;

        <span class="comment">//  If there are events to return, we can exit immediately.</span>
        <span class="keywordflow">if</span> (nevents)
            <span class="keywordflow">break</span>;

        <span class="comment">//  At this point we are meant to wait for events but there are none.</span>
        <span class="comment">//  If timeout is infinite we can just loop until we get some events.</span>
        <span class="keywordflow">if</span> (timeout_ &lt; 0) {
            <span class="keywordflow">if</span> (first_pass)
                first_pass = <span class="keyword">false</span>;
            <span class="keywordflow">continue</span>;
        }

        <span class="comment">//  The timeout is finite and there are no events. In the first pass</span>
        <span class="comment">//  we get a timestamp of when the polling have begun. (We assume that</span>
        <span class="comment">//  first pass have taken negligible time). We also compute the time</span>
        <span class="comment">//  when the polling should time out.</span>
        <span class="keywordflow">if</span> (first_pass) {
            now = clock.<a class="code" href="classzmq_1_1clock__t.html#a2926d2e5e13a270e6050ec4e24a2770e">now_ms</a> ();
            end = now + timeout_;
            <span class="keywordflow">if</span> (now == end)
                <span class="keywordflow">break</span>;
            first_pass = <span class="keyword">false</span>;
            <span class="keywordflow">continue</span>;
        }

        <span class="comment">//  Find out whether timeout have expired.</span>
        now = clock.<a class="code" href="classzmq_1_1clock__t.html#a2926d2e5e13a270e6050ec4e24a2770e">now_ms</a> ();
        <span class="keywordflow">if</span> (now &gt;= end)
            <span class="keywordflow">break</span>;
    }

    free (pollfds);
    <span class="keywordflow">return</span> nevents;

<span class="preprocessor">#elif defined ZMQ_POLL_BASED_ON_SELECT</span>
<span class="preprocessor"></span>
    <span class="keywordflow">if</span> (<a class="code" href="likely_8hpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a> (nitems_ &lt; 0)) {
        errno = EINVAL;
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">if</span> (<a class="code" href="likely_8hpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a> (nitems_ == 0)) {
        <span class="keywordflow">if</span> (timeout_ == 0)
            <span class="keywordflow">return</span> 0;
<span class="preprocessor">#if defined ZMQ_HAVE_WINDOWS</span>
<span class="preprocessor"></span>        Sleep (timeout_ &gt; 0 ? timeout_ : INFINITE);
        <span class="keywordflow">return</span> 0;
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>        <span class="keywordflow">return</span> usleep (timeout_ * 1000);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }

    <span class="keywordflow">if</span> (!items_) {
        errno = EFAULT;
        <span class="keywordflow">return</span> -1;
    }

    <a class="code" href="classzmq_1_1clock__t.html">zmq::clock_t</a> clock;
    uint64_t now = 0;
    uint64_t end = 0;

    <span class="comment">//  Ensure we do not attempt to select () on more than FD_SETSIZE</span>
    <span class="comment">//  file descriptors.</span>
    <a class="code" href="err_8hpp.html#a6eef7faa8d283dc3ed63ef0a6f2bad22">zmq_assert</a> (nitems_ &lt;= FD_SETSIZE);

    fd_set pollset_in;
    FD_ZERO (&amp;pollset_in);
    fd_set pollset_out;
    FD_ZERO (&amp;pollset_out);
    fd_set pollset_err;
    FD_ZERO (&amp;pollset_err);

    <a class="code" href="namespacezmq.html#a206451f4f3d937d650f4afd13da9e306">zmq::fd_t</a> maxfd = 0;

    <span class="comment">//  Build the fd_sets for passing to select ().</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i != nitems_; i++) {

        <span class="comment">//  If the poll item is a 0MQ socket we are interested in input on the</span>
        <span class="comment">//  notification file descriptor retrieved by the ZMQ_FD socket option.</span>
        <span class="keywordflow">if</span> (items_ [i].socket) {
            <span class="keywordtype">size_t</span> zmq_fd_size = <span class="keyword">sizeof</span> (<a class="code" href="namespacezmq.html#a206451f4f3d937d650f4afd13da9e306">zmq::fd_t</a>);
            <a class="code" href="namespacezmq.html#a206451f4f3d937d650f4afd13da9e306">zmq::fd_t</a> notify_fd;
            <span class="keywordflow">if</span> (<a class="code" href="zmq_8h.html#a8ee9693ff7f63751670016a4a04d72ae">zmq_getsockopt</a> (items_ [i].socket, <a class="code" href="zmq_8h.html#aa334818e0dcd61b81b0064277aa856cf">ZMQ_FD</a>, &amp;notify_fd,
                &amp;zmq_fd_size) == -1)
                <span class="keywordflow">return</span> -1;
            <span class="keywordflow">if</span> (items_ [i].events) {
                FD_SET (notify_fd, &amp;pollset_in);
                <span class="keywordflow">if</span> (maxfd &lt; notify_fd)
                    maxfd = notify_fd;
            }
        }
        <span class="comment">//  Else, the poll item is a raw file descriptor. Convert the poll item</span>
        <span class="comment">//  events to the appropriate fd_sets.</span>
        <span class="keywordflow">else</span> {
            <span class="keywordflow">if</span> (items_ [i].events &amp; ZMQ_POLLIN)
                FD_SET (items_ [i].fd, &amp;pollset_in);
            <span class="keywordflow">if</span> (items_ [i].events &amp; ZMQ_POLLOUT)
                FD_SET (items_ [i].fd, &amp;pollset_out);
            <span class="keywordflow">if</span> (items_ [i].events &amp; <a class="code" href="zmq_8h.html#a22b2409d48517c9bc80d67ad3b6a6458">ZMQ_POLLERR</a>)
                FD_SET (items_ [i].fd, &amp;pollset_err);
            <span class="keywordflow">if</span> (maxfd &lt; items_ [i].fd)
                maxfd = items_ [i].<a class="code" href="structzmq__pollitem__t.html#aaaba20d38ea388295fb0b8d88e580550">fd</a>;
        }
    }

    <span class="keywordtype">bool</span> first_pass = <span class="keyword">true</span>;
    <span class="keywordtype">int</span> nevents = 0;
    fd_set inset, outset, errset;

    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {

        <span class="comment">//  Compute the timeout for the subsequent poll.</span>
        timeval timeout;
        timeval *ptimeout;
        <span class="keywordflow">if</span> (first_pass) {
            timeout.tv_sec = 0;
            timeout.tv_usec = 0;
            ptimeout = &amp;timeout;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (timeout_ &lt; 0)
            ptimeout = NULL;
        <span class="keywordflow">else</span> {
            timeout.tv_sec = (long) ((end - now) / 1000);
            timeout.tv_usec = (long) ((end - now) % 1000 * 1000);
            ptimeout = &amp;timeout;
        }

        <span class="comment">//  Wait for events. Ignore interrupts if there&#39;s infinite timeout.</span>
        <span class="keywordflow">while</span> (<span class="keyword">true</span>) {
            memcpy (&amp;inset, &amp;pollset_in, <span class="keyword">sizeof</span> (fd_set));
            memcpy (&amp;outset, &amp;pollset_out, <span class="keyword">sizeof</span> (fd_set));
            memcpy (&amp;errset, &amp;pollset_err, <span class="keyword">sizeof</span> (fd_set));
<span class="preprocessor">#if defined ZMQ_HAVE_WINDOWS</span>
<span class="preprocessor"></span>            <span class="keywordtype">int</span> rc = select (0, &amp;inset, &amp;outset, &amp;errset, ptimeout);
            wsa_assert (rc != SOCKET_ERROR);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>            <span class="keywordtype">int</span> rc = select (maxfd + 1, &amp;inset, &amp;outset, &amp;errset, ptimeout);
            <span class="keywordflow">if</span> (rc == -1 &amp;&amp; errno == EINTR)
                <span class="keywordflow">return</span> -1;
            <a class="code" href="err_8hpp.html#a0399435158def8e776efe83e52fd707a">errno_assert</a> (rc &gt;= 0);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>            <span class="keywordflow">break</span>;
        }

        <span class="comment">//  Check for the events.</span>
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i != nitems_; i++) {

            items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> = 0;

            <span class="comment">//  The poll item is a 0MQ socket. Retrieve pending events</span>
            <span class="comment">//  using the ZMQ_EVENTS socket option.</span>
            <span class="keywordflow">if</span> (items_ [i].socket) {
                <span class="keywordtype">size_t</span> zmq_events_size = <span class="keyword">sizeof</span> (uint32_t);
                uint32_t zmq_events;
                <span class="keywordflow">if</span> (<a class="code" href="zmq_8h.html#a8ee9693ff7f63751670016a4a04d72ae">zmq_getsockopt</a> (items_ [i].socket, <a class="code" href="zmq_8h.html#a8c94548552b49d653a4882d723f3b5f2">ZMQ_EVENTS</a>, &amp;zmq_events,
                      &amp;zmq_events_size) == -1)
                    <span class="keywordflow">return</span> -1;
                <span class="keywordflow">if</span> ((items_ [i].events &amp; ZMQ_POLLOUT) &amp;&amp;
                      (zmq_events &amp; <a class="code" href="zmq_8h.html#af7ec0b23b191f31fc1aed3d54bed606c">ZMQ_POLLOUT</a>))
                    items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> |= <a class="code" href="zmq_8h.html#af7ec0b23b191f31fc1aed3d54bed606c">ZMQ_POLLOUT</a>;
                <span class="keywordflow">if</span> ((items_ [i].events &amp; ZMQ_POLLIN) &amp;&amp;
                      (zmq_events &amp; <a class="code" href="zmq_8h.html#a4f619ed5343e46f417d7ec7e318be8a0">ZMQ_POLLIN</a>))
                    items_ [i].<a class="code" href="structzmq__pollitem__t.html#a9932842d01802c95c18ab6a296d2e5e8">revents</a> |= <a class="code" href="zmq_8h.html#a4f619ed5343e46f417d7ec7e318be8a0">ZMQ_POLLIN</a>;
            }
            <span class="comment">//  Else, the poll item is a raw file descriptor, simply convert</span>
            <span class="comment">//  the events to zmq_pollitem_t-style format.</span>
            <span class="keywordflow">else</span> {
                <span class="keywordflow">if</span> (FD_ISSET (items_ [i].fd, &amp;inset))
                    items_ [i].revents |= ZMQ_POLLIN;
                <span class="keywordflow">if</span> (FD_ISSET (items_ [i].fd, &amp;outset))
                    items_ [i].revents |= ZMQ_POLLOUT;
                <span class="keywordflow">if</span> (FD_ISSET (items_ [i].fd, &amp;errset))
                    items_ [i].revents |= <a class="code" href="zmq_8h.html#a22b2409d48517c9bc80d67ad3b6a6458">ZMQ_POLLERR</a>;
            }

            <span class="keywordflow">if</span> (items_ [i].revents)
                nevents++;
        }

        <span class="comment">//  If timout is zero, exit immediately whether there are events or not.</span>
        <span class="keywordflow">if</span> (timeout_ == 0)
            <span class="keywordflow">break</span>;

        <span class="comment">//  If there are events to return, we can exit immediately.</span>
        <span class="keywordflow">if</span> (nevents)
            <span class="keywordflow">break</span>;

        <span class="comment">//  At this point we are meant to wait for events but there are none.</span>
        <span class="comment">//  If timeout is infinite we can just loop until we get some events.</span>
        <span class="keywordflow">if</span> (timeout_ &lt; 0) {
            <span class="keywordflow">if</span> (first_pass)
                first_pass = <span class="keyword">false</span>;
            <span class="keywordflow">continue</span>;
        }

        <span class="comment">//  The timeout is finite and there are no events. In the first pass</span>
        <span class="comment">//  we get a timestamp of when the polling have begun. (We assume that</span>
        <span class="comment">//  first pass have taken negligible time). We also compute the time</span>
        <span class="comment">//  when the polling should time out.</span>
        <span class="keywordflow">if</span> (first_pass) {
            now = clock.<a class="code" href="classzmq_1_1clock__t.html#a2926d2e5e13a270e6050ec4e24a2770e">now_ms</a> ();
            end = now + timeout_;
            <span class="keywordflow">if</span> (now == end)
                <span class="keywordflow">break</span>;
            first_pass = <span class="keyword">false</span>;
            <span class="keywordflow">continue</span>;
        }

        <span class="comment">//  Find out whether timeout have expired.</span>
        now = clock.<a class="code" href="classzmq_1_1clock__t.html#a2926d2e5e13a270e6050ec4e24a2770e">now_ms</a> ();
        <span class="keywordflow">if</span> (now &gt;= end)
            <span class="keywordflow">break</span>;
    }

    <span class="keywordflow">return</span> nevents;

<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    <span class="comment">//  Exotic platforms that support neither poll() nor select().</span>
    errno = <a class="code" href="zmq_8h.html#a91457bbf35f0f1085619a99423bb1f33">ENOTSUP</a>;
    <span class="keywordflow">return</span> -1;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_aa4c0179dfd34c1cf2067caf4f4789cd5_cgraph.png" border="0" usemap="#zmq_8cpp_aa4c0179dfd34c1cf2067caf4f4789cd5_cgraph" alt=""/></div>
<map name="zmq_8cpp_aa4c0179dfd34c1cf2067caf4f4789cd5_cgraph" id="zmq_8cpp_aa4c0179dfd34c1cf2067caf4f4789cd5_cgraph">
<area shape="rect" id="node3" href="classzmq_1_1clock__t.html#a2926d2e5e13a270e6050ec4e24a2770e" title="zmq::clock_t::now_ms" alt="" coords="128,5,283,35"/><area shape="rect" id="node5" href="zmq_8h.html#a8ee9693ff7f63751670016a4a04d72ae" title="zmq_getsockopt" alt="" coords="147,59,264,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aed5e040d1f661211601bcb12e67851df"></a><!-- doxytag: member="zmq.cpp::zmq_recv" ref="aed5e040d1f661211601bcb12e67851df" args="(void *s_, void *buf_, size_t len_, int flags_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_recv </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00233">233</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="err_8hpp_source.html#l00108">errno_assert</a>, <a class="el" href="likely_8hpp_source.html#l00029">unlikely</a>, <a class="el" href="zmq_8cpp_source.html#l00300">zmq_msg_close()</a>, <a class="el" href="zmq_8cpp_source.html#l00315">zmq_msg_data()</a>, <a class="el" href="zmq_8cpp_source.html#l00284">zmq_msg_init()</a>, and <a class="el" href="zmq_8cpp_source.html#l00272">zmq_recvmsg()</a>.</p>

<p>Referenced by <a class="el" href="testutil_8hpp_source.html#l00029">bounce()</a>, and <a class="el" href="test__hwm_8cpp_source.html#l00026">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> msg;
    <span class="keywordtype">int</span> rc = <a class="code" href="zmq_8h.html#a8c888cf117d859ae0d669e95cf8b64c2">zmq_msg_init</a> (&amp;msg);
    <a class="code" href="err_8hpp.html#a0399435158def8e776efe83e52fd707a">errno_assert</a> (rc == 0);

    <span class="keywordtype">int</span> nbytes = <a class="code" href="zmq_8h.html#acfaed58455d33fedb9574920c239c9ed">zmq_recvmsg</a> (s_, &amp;msg, flags_);
    <span class="keywordflow">if</span> (<a class="code" href="likely_8hpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a> (nbytes &lt; 0)) {
        <span class="keywordtype">int</span> err = errno;
        rc = <a class="code" href="zmq_8h.html#a14cc42a7330a4b174dc3b735afd2adcc">zmq_msg_close</a> (&amp;msg);
        <a class="code" href="err_8hpp.html#a0399435158def8e776efe83e52fd707a">errno_assert</a> (rc == 0);
        errno = err;
        <span class="keywordflow">return</span> -1;
    }

    <span class="comment">//  At the moment an oversized message is silently truncated.</span>
    <span class="comment">//  TODO: Build in a notification mechanism to report the overflows.</span>
    <span class="keywordtype">size_t</span> to_copy = size_t (nbytes) &lt; len_ ? size_t (nbytes) : len_;
    memcpy (buf_, <a class="code" href="zmq_8h.html#aabc235325f4161f00acf0657e2e24d83">zmq_msg_data</a> (&amp;msg), to_copy);

    rc = <a class="code" href="zmq_8h.html#a14cc42a7330a4b174dc3b735afd2adcc">zmq_msg_close</a> (&amp;msg);
    <a class="code" href="err_8hpp.html#a0399435158def8e776efe83e52fd707a">errno_assert</a> (rc == 0);

    <span class="keywordflow">return</span> nbytes;    
}
</pre></div>
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_aed5e040d1f661211601bcb12e67851df_cgraph.png" border="0" usemap="#zmq_8cpp_aed5e040d1f661211601bcb12e67851df_cgraph" alt=""/></div>
<map name="zmq_8cpp_aed5e040d1f661211601bcb12e67851df_cgraph" id="zmq_8cpp_aed5e040d1f661211601bcb12e67851df_cgraph">
<area shape="rect" id="node3" href="zmq_8h.html#a14cc42a7330a4b174dc3b735afd2adcc" title="zmq_msg_close" alt="" coords="133,5,251,35"/><area shape="rect" id="node5" href="zmq_8h.html#aabc235325f4161f00acf0657e2e24d83" title="zmq_msg_data" alt="" coords="137,59,247,88"/><area shape="rect" id="node7" href="zmq_8h.html#a8c888cf117d859ae0d669e95cf8b64c2" title="zmq_msg_init" alt="" coords="141,112,243,141"/><area shape="rect" id="node9" href="zmq_8h.html#acfaed58455d33fedb9574920c239c9ed" title="zmq_recvmsg" alt="" coords="140,165,244,195"/><area shape="rect" id="node11" href="zmq_8h.html#a4d96fbc340edbc5bce894e65f388edf8" title="zmq_msg_size" alt="" coords="300,165,409,195"/></map>
</div>
</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_aed5e040d1f661211601bcb12e67851df_icgraph.png" border="0" usemap="#zmq_8cpp_aed5e040d1f661211601bcb12e67851df_icgraph" alt=""/></div>
<map name="zmq_8cpp_aed5e040d1f661211601bcb12e67851df_icgraph" id="zmq_8cpp_aed5e040d1f661211601bcb12e67851df_icgraph">
<area shape="rect" id="node3" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="133,5,197,35"/><area shape="rect" id="node7" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="140,59,191,88"/><area shape="rect" id="node5" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="245,5,296,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8cb24b7e54e3380fca751d8e1eaf0a27"></a><!-- doxytag: member="zmq.cpp::zmq_recvmsg" ref="a8cb24b7e54e3380fca751d8e1eaf0a27" args="(void *s_, zmq_msg_t *msg_, int flags_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_recvmsg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00272">272</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="zmq_8h_source.html#l00102">ENOTSOCK</a>, <a class="el" href="likely_8hpp_source.html#l00029">unlikely</a>, and <a class="el" href="zmq_8cpp_source.html#l00320">zmq_msg_size()</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, <a class="el" href="inproc__lat_8cpp_source.html#l00043">worker()</a>, and <a class="el" href="zmq_8cpp_source.html#l00233">zmq_recv()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!s_ || !((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;check_tag ()) {
        errno = <a class="code" href="zmq_8h.html#ae34fa7a550ac1c415daa2e114a1c0f38">ENOTSOCK</a>;
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordtype">int</span> rc = (((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;recv ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) msg_, flags_));
    <span class="keywordflow">if</span> (<a class="code" href="likely_8hpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a> (rc &lt; 0))
        <span class="keywordflow">return</span> -1;
    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) <a class="code" href="zmq_8h.html#a4d96fbc340edbc5bce894e65f388edf8">zmq_msg_size</a> (msg_);
}
</pre></div>
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a8cb24b7e54e3380fca751d8e1eaf0a27_cgraph.png" border="0" usemap="#zmq_8cpp_a8cb24b7e54e3380fca751d8e1eaf0a27_cgraph" alt=""/></div>
<map name="zmq_8cpp_a8cb24b7e54e3380fca751d8e1eaf0a27_cgraph" id="zmq_8cpp_a8cb24b7e54e3380fca751d8e1eaf0a27_cgraph">
<area shape="rect" id="node3" href="zmq_8h.html#a4d96fbc340edbc5bce894e65f388edf8" title="zmq_msg_size" alt="" coords="159,5,268,35"/></map>
</div>
</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a8cb24b7e54e3380fca751d8e1eaf0a27_icgraph.png" border="0" usemap="#zmq_8cpp_a8cb24b7e54e3380fca751d8e1eaf0a27_icgraph" alt=""/></div>
<map name="zmq_8cpp_a8cb24b7e54e3380fca751d8e1eaf0a27_icgraph" id="zmq_8cpp_a8cb24b7e54e3380fca751d8e1eaf0a27_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="341,5,392,35"/><area shape="rect" id="node5" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="167,59,228,88"/><area shape="rect" id="node12" href="zmq_8cpp.html#aed5e040d1f661211601bcb12e67851df" title="zmq_recv" alt="" coords="159,165,236,195"/><area shape="rect" id="node8" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="300,59,433,88"/><area shape="rect" id="node10" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="285,112,448,141"/><area shape="rect" id="node14" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="335,165,399,195"/><area shape="rect" id="node18" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="341,219,392,248"/><area shape="rect" id="node16" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="496,165,547,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9894b4722d321559d3990898603ec63a"></a><!-- doxytag: member="zmq.cpp::zmq_send" ref="a9894b4722d321559d3990898603ec63a" args="(void *s_, const void *buf_, size_t len_, int flags_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_send </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00211">211</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="err_8hpp_source.html#l00108">errno_assert</a>, <a class="el" href="likely_8hpp_source.html#l00029">unlikely</a>, <a class="el" href="zmq_8cpp_source.html#l00300">zmq_msg_close()</a>, <a class="el" href="zmq_8cpp_source.html#l00315">zmq_msg_data()</a>, <a class="el" href="zmq_8cpp_source.html#l00289">zmq_msg_init_size()</a>, and <a class="el" href="zmq_8cpp_source.html#l00259">zmq_sendmsg()</a>.</p>

<p>Referenced by <a class="el" href="testutil_8hpp_source.html#l00029">bounce()</a>, and <a class="el" href="test__hwm_8cpp_source.html#l00026">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> msg;
    <span class="keywordtype">int</span> rc = <a class="code" href="zmq_8h.html#adabea9817029bab4ac295e1339d79803">zmq_msg_init_size</a> (&amp;msg, len_);
    <span class="keywordflow">if</span> (rc != 0)
        <span class="keywordflow">return</span> -1;
    memcpy (<a class="code" href="zmq_8h.html#aabc235325f4161f00acf0657e2e24d83">zmq_msg_data</a> (&amp;msg), buf_, len_);

    rc = <a class="code" href="zmq_8h.html#a2d25c972234261a2b683d6376e7b09aa">zmq_sendmsg</a> (s_, &amp;msg, flags_);
    <span class="keywordflow">if</span> (<a class="code" href="likely_8hpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a> (rc &lt; 0)) {
        <span class="keywordtype">int</span> err = errno;
        <span class="keywordtype">int</span> rc2 = <a class="code" href="zmq_8h.html#a14cc42a7330a4b174dc3b735afd2adcc">zmq_msg_close</a> (&amp;msg);
        <a class="code" href="err_8hpp.html#a0399435158def8e776efe83e52fd707a">errno_assert</a> (rc2 == 0);
        errno = err;
        <span class="keywordflow">return</span> -1;
    }
    
    <span class="comment">//  Note the optimisation here. We don&#39;t close the msg object as it is</span>
    <span class="comment">//  empty anyway. This may change when implementation of zmq_msg_t changes.</span>
    <span class="keywordflow">return</span> rc;
}
</pre></div>
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a9894b4722d321559d3990898603ec63a_cgraph.png" border="0" usemap="#zmq_8cpp_a9894b4722d321559d3990898603ec63a_cgraph" alt=""/></div>
<map name="zmq_8cpp_a9894b4722d321559d3990898603ec63a_cgraph" id="zmq_8cpp_a9894b4722d321559d3990898603ec63a_cgraph">
<area shape="rect" id="node3" href="zmq_8h.html#a14cc42a7330a4b174dc3b735afd2adcc" title="zmq_msg_close" alt="" coords="145,5,263,35"/><area shape="rect" id="node5" href="zmq_8h.html#aabc235325f4161f00acf0657e2e24d83" title="zmq_msg_data" alt="" coords="149,59,259,88"/><area shape="rect" id="node7" href="zmq_8h.html#adabea9817029bab4ac295e1339d79803" title="zmq_msg_init_size" alt="" coords="137,112,271,141"/><area shape="rect" id="node9" href="zmq_8h.html#a2d25c972234261a2b683d6376e7b09aa" title="zmq_sendmsg" alt="" coords="151,165,257,195"/><area shape="rect" id="node11" href="zmq_8h.html#a4d96fbc340edbc5bce894e65f388edf8" title="zmq_msg_size" alt="" coords="321,165,431,195"/></map>
</div>
</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a9894b4722d321559d3990898603ec63a_icgraph.png" border="0" usemap="#zmq_8cpp_a9894b4722d321559d3990898603ec63a_icgraph" alt=""/></div>
<map name="zmq_8cpp_a9894b4722d321559d3990898603ec63a_icgraph" id="zmq_8cpp_a9894b4722d321559d3990898603ec63a_icgraph">
<area shape="rect" id="node3" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="136,5,200,35"/><area shape="rect" id="node7" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="143,59,193,88"/><area shape="rect" id="node5" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="248,5,299,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8280be9161357a9a4610e94f7de5a3ad"></a><!-- doxytag: member="zmq.cpp::zmq_sendmsg" ref="a8280be9161357a9a4610e94f7de5a3ad" args="(void *s_, zmq_msg_t *msg_, int flags_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_sendmsg </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zmq_8h.html#ac64baefe9b3ca8404465f96b792b6cd1">zmq_msg_t</a> *&#160;</td>
          <td class="paramname"><em>msg_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00259">259</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="zmq_8h_source.html#l00102">ENOTSOCK</a>, <a class="el" href="likely_8hpp_source.html#l00029">unlikely</a>, and <a class="el" href="zmq_8cpp_source.html#l00320">zmq_msg_size()</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, <a class="el" href="inproc__lat_8cpp_source.html#l00043">worker()</a>, and <a class="el" href="zmq_8cpp_source.html#l00211">zmq_send()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!s_ || !((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;check_tag ()) {
        errno = <a class="code" href="zmq_8h.html#ae34fa7a550ac1c415daa2e114a1c0f38">ENOTSOCK</a>;
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordtype">int</span> sz = (int) <a class="code" href="zmq_8h.html#a4d96fbc340edbc5bce894e65f388edf8">zmq_msg_size</a> (msg_);
    <span class="keywordtype">int</span> rc = (((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;send ((<a class="code" href="classzmq_1_1msg__t.html">zmq::msg_t</a>*) msg_, flags_));
    <span class="keywordflow">if</span> (<a class="code" href="likely_8hpp.html#ac6c45889010c1bd68631771b64f18101">unlikely</a> (rc &lt; 0))
        <span class="keywordflow">return</span> -1;
    <span class="keywordflow">return</span> sz;
}
</pre></div>
<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a8280be9161357a9a4610e94f7de5a3ad_cgraph.png" border="0" usemap="#zmq_8cpp_a8280be9161357a9a4610e94f7de5a3ad_cgraph" alt=""/></div>
<map name="zmq_8cpp_a8280be9161357a9a4610e94f7de5a3ad_cgraph" id="zmq_8cpp_a8280be9161357a9a4610e94f7de5a3ad_cgraph">
<area shape="rect" id="node3" href="zmq_8h.html#a4d96fbc340edbc5bce894e65f388edf8" title="zmq_msg_size" alt="" coords="161,5,271,35"/></map>
</div>
</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a8280be9161357a9a4610e94f7de5a3ad_icgraph.png" border="0" usemap="#zmq_8cpp_a8280be9161357a9a4610e94f7de5a3ad_icgraph" alt=""/></div>
<map name="zmq_8cpp_a8280be9161357a9a4610e94f7de5a3ad_icgraph" id="zmq_8cpp_a8280be9161357a9a4610e94f7de5a3ad_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="347,5,397,35"/><area shape="rect" id="node5" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="171,59,232,88"/><area shape="rect" id="node12" href="zmq_8cpp.html#a9894b4722d321559d3990898603ec63a" title="zmq_send" alt="" coords="160,165,243,195"/><area shape="rect" id="node8" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="305,59,439,88"/><area shape="rect" id="node10" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="291,112,453,141"/><area shape="rect" id="node14" href="testutil_8hpp.html#a706fc073296c3da5fb021a69cc22089d" title="bounce" alt="" coords="340,165,404,195"/><area shape="rect" id="node18" href="test__hwm_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="347,219,397,248"/><area shape="rect" id="node16" href="test__pair__inproc_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="501,165,552,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7eedad11325d1cce35bac82e76e8ebd9"></a><!-- doxytag: member="zmq.cpp::zmq_setsockopt" ref="a7eedad11325d1cce35bac82e76e8ebd9" args="(void *s_, int option_, const void *optval_, size_t optvallen_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_setsockopt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>s_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>option_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>optval_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>optvallen_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00172">172</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="zmq_8h_source.html#l00102">ENOTSOCK</a>.</p>

<p>Referenced by <a class="el" href="inproc__thr_8cpp_source.html#l00099">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!s_ || !((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;check_tag ()) {
        errno = <a class="code" href="zmq_8h.html#ae34fa7a550ac1c415daa2e114a1c0f38">ENOTSOCK</a>;
        <span class="keywordflow">return</span> -1;
    }
    <span class="keywordflow">return</span> (((<a class="code" href="classzmq_1_1socket__base__t.html">zmq::socket_base_t</a>*) s_)-&gt;setsockopt (option_, optval_,
        optvallen_));
}
</pre></div>
<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a7eedad11325d1cce35bac82e76e8ebd9_icgraph.png" border="0" usemap="#zmq_8cpp_a7eedad11325d1cce35bac82e76e8ebd9_icgraph" alt=""/></div>
<map name="zmq_8cpp_a7eedad11325d1cce35bac82e76e8ebd9_icgraph" id="zmq_8cpp_a7eedad11325d1cce35bac82e76e8ebd9_icgraph">
<area shape="rect" id="node3" href="inproc__thr_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="173,5,224,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab8808eefe4acbfe131a3b2a3c50ab801"></a><!-- doxytag: member="zmq.cpp::zmq_socket" ref="ab8808eefe4acbfe131a3b2a3c50ab801" args="(void *ctx_, int type_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* zmq_socket </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00153">153</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, and <a class="el" href="inproc__lat_8cpp_source.html#l00043">worker()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!ctx_ || !((<a class="code" href="classzmq_1_1ctx__t.html">zmq::ctx_t</a>*) ctx_)-&gt;check_tag ()) {
        errno = EFAULT;
        <span class="keywordflow">return</span> NULL;
    }
    <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*) (((<a class="code" href="classzmq_1_1ctx__t.html">zmq::ctx_t</a>*) ctx_)-&gt;create_socket (type_));
}
</pre></div>
<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_ab8808eefe4acbfe131a3b2a3c50ab801_icgraph.png" border="0" usemap="#zmq_8cpp_ab8808eefe4acbfe131a3b2a3c50ab801_icgraph" alt=""/></div>
<map name="zmq_8cpp_ab8808eefe4acbfe131a3b2a3c50ab801_icgraph" id="zmq_8cpp_ab8808eefe4acbfe131a3b2a3c50ab801_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="312,5,363,35"/><area shape="rect" id="node5" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="147,59,208,88"/><area shape="rect" id="node8" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="271,59,404,88"/><area shape="rect" id="node10" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="256,112,419,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a366b49e4d97c7065b1a59f727fcffba8"></a><!-- doxytag: member="zmq.cpp::zmq_strerror" ref="a366b49e4d97c7065b1a59f727fcffba8" args="(int errnum_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* zmq_strerror </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errnum_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00070">70</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="err_8cpp_source.html#l00024">zmq::errno_to_string()</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>, and <a class="el" href="inproc__lat_8cpp_source.html#l00043">worker()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="namespacezmq.html#ad7e83cae9e2cf285742327ec337fff1d">zmq::errno_to_string</a> (errnum_);
}
</pre></div>
<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a366b49e4d97c7065b1a59f727fcffba8_cgraph.png" border="0" usemap="#zmq_8cpp_a366b49e4d97c7065b1a59f727fcffba8_cgraph" alt=""/></div>
<map name="zmq_8cpp_a366b49e4d97c7065b1a59f727fcffba8_cgraph" id="zmq_8cpp_a366b49e4d97c7065b1a59f727fcffba8_cgraph">
<area shape="rect" id="node3" href="namespacezmq.html#ad7e83cae9e2cf285742327ec337fff1d" title="zmq::errno_to_string" alt="" coords="149,5,291,35"/></map>
</div>
</p>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a366b49e4d97c7065b1a59f727fcffba8_icgraph.png" border="0" usemap="#zmq_8cpp_a366b49e4d97c7065b1a59f727fcffba8_icgraph" alt=""/></div>
<map name="zmq_8cpp_a366b49e4d97c7065b1a59f727fcffba8_icgraph" id="zmq_8cpp_a366b49e4d97c7065b1a59f727fcffba8_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="315,5,365,35"/><area shape="rect" id="node5" href="inproc__lat_8cpp.html#afdde2c05692ce4366f55800934ffdebe" title="worker" alt="" coords="149,59,211,88"/><area shape="rect" id="node8" href="classzmq_1_1select__t.html#ad3f4a2a6b5efb9b431994b5a9cdb2a71" title="zmq::select_t::start" alt="" coords="273,59,407,88"/><area shape="rect" id="node10" href="classzmq_1_1select__t.html#a5804585770480c0be49bb6b78e5a3cf7" title="zmq::select_t::~select_t" alt="" coords="259,112,421,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a00e3e1f6c6182c1b7fcbbc5f26af86fe"></a><!-- doxytag: member="zmq.cpp::zmq_term" ref="a00e3e1f6c6182c1b7fcbbc5f26af86fe" args="(void *ctx_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zmq_term </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00127">127</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="err_8hpp_source.html#l00098">zmq_assert</a>.</p>

<p>Referenced by <a class="el" href="inproc__lat_8cpp_source.html#l00101">main()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!ctx_ || !((<a class="code" href="classzmq_1_1ctx__t.html">zmq::ctx_t</a>*) ctx_)-&gt;check_tag ()) {
        errno = EFAULT;
        <span class="keywordflow">return</span> -1;
    }

    <span class="keywordtype">int</span> rc = ((<a class="code" href="classzmq_1_1ctx__t.html">zmq::ctx_t</a>*) ctx_)-&gt;terminate ();
    <span class="keywordtype">int</span> en = errno;

<span class="preprocessor">#ifdef ZMQ_HAVE_WINDOWS</span>
<span class="preprocessor"></span>    <span class="comment">//  On Windows, uninitialise socket layer.</span>
    rc = WSACleanup ();
    wsa_assert (rc != SOCKET_ERROR);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#if defined ZMQ_HAVE_OPENPGM</span>
<span class="preprocessor"></span>    <span class="comment">//  Shut down the OpenPGM library.</span>
    <span class="keywordflow">if</span> (pgm_shutdown () != TRUE)
        <a class="code" href="err_8hpp.html#a6eef7faa8d283dc3ed63ef0a6f2bad22">zmq_assert</a> (<span class="keyword">false</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    errno = en;
    <span class="keywordflow">return</span> rc;
}
</pre></div>
<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="zmq_8cpp_a00e3e1f6c6182c1b7fcbbc5f26af86fe_icgraph.png" border="0" usemap="#zmq_8cpp_a00e3e1f6c6182c1b7fcbbc5f26af86fe_icgraph" alt=""/></div>
<map name="zmq_8cpp_a00e3e1f6c6182c1b7fcbbc5f26af86fe_icgraph" id="zmq_8cpp_a00e3e1f6c6182c1b7fcbbc5f26af86fe_icgraph">
<area shape="rect" id="node3" href="inproc__lat_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="133,5,184,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af79bde1e5309ca8e95463a2ac91e4123"></a><!-- doxytag: member="zmq.cpp::zmq_version" ref="af79bde1e5309ca8e95463a2ac91e4123" args="(int *major_, int *minor_, int *patch_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zmq_version </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>major_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>minor_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>patch_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="zmq_8cpp_source.html#l00063">63</a> of file <a class="el" href="zmq_8cpp_source.html">zmq.cpp</a>.</p>

<p>References <a class="el" href="zmq_8h_source.html#l00056">ZMQ_VERSION_MAJOR</a>, <a class="el" href="zmq_8h_source.html#l00057">ZMQ_VERSION_MINOR</a>, and <a class="el" href="zmq_8h_source.html#l00058">ZMQ_VERSION_PATCH</a>.</p>
<div class="fragment"><pre class="fragment">{
    *major_ = <a class="code" href="zmq_8h.html#a5c33c7c53c7fb57ae751a9679327863c">ZMQ_VERSION_MAJOR</a>;
    *minor_ = <a class="code" href="zmq_8h.html#ac91c8462162effac637e2e3e1c1605f2">ZMQ_VERSION_MINOR</a>;
    *patch_ = <a class="code" href="zmq_8h.html#a5b6dd7eb59a89bf918f2fe33d8368418">ZMQ_VERSION_PATCH</a>;
}
</pre></div>
</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Jun 12 2011 01:29:10 for libzmq by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
